<p-toast></p-toast>
<p-dialog
  [(visible)]="display"
  (onHide)="onCancel()"
  header="Upload Picture"
  [modal]="true"
  [closable]="false"
  styleClass="w-full sm:w-[480px] md:w-[480px]"
>
  <!-- Subtitle or description -->
  <div class="text-gray-700 mb-4">Crop the image to be more professional.</div>

  <!-- File upload (if you want the user to select a new image) -->

  <!-- Image Cropper Area -->
  <div class="flex flex-col items-center justify-center">
    <image-cropper
      [imageChangedEvent]="imageChangedEvent"
      [maintainAspectRatio]="true"
      [aspectRatio]="1 / 1"
      [roundCropper]="true"
      format="png"
      (imageCropped)="imageCropped($event)"
      (imageLoaded)="imageLoaded()"
      (cropperReady)="cropperReady()"
      (loadImageFailed)="loadImageFailed()"
      style="max-width: 100%; height: auto; border-radius: 20px"
    ></image-cropper>
  </div>

  <div class="my-4">
    <input
      type="file"
      class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50"
      accept="image/*"
      (change)="onFileChange($event)"
    />
  </div>

  <!-- Footer Buttons -->
  <div class="flex justify-end space-x-2 mt-6">
    <button
      pButton
      label="Cancel"
      class="border border-[#D0D5DD] bg-transparent rounded-[8px] py-2.5 px-[24px] text-[#344054] font-[600] text-[16px]"
      (click)="onCancel()"
    ></button>
    <button
      pButton
      [label]="loading ? 'Saving...' : 'Save'"
      [disabled]="loading"
      class="bg-[#9241DC] border border-[#7F56D9] rounded-[8px] py-2.5 px-[24px] text-white font-[600] text-[16px]"
      (click)="onSave()"
    ></button>
  </div>
</p-dialog>
